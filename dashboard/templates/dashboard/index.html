{% extends "dashboard/_header_nav.html" %}

{% block content %}
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script>
	// Google chart 01
    google.charts.load('current', {
      'packages': ['map'],
      // Note: you will need to get a mapsApiKey for your project.
      // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings
      'mapsApiKey': 'AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY'
    });
    google.charts.setOnLoadCallback(drawMap);

    function drawMap () {
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Address');
      data.addColumn('string', 'Location');

      data.addRows([
        ['Lake Buena Vista, FL 32830, United States',                  'Walt Disney World'],
        ['6000 Universal Boulevard, Orlando, FL 32819, United States', 'Universal Studios'],
        ['7007 Sea World Drive, Orlando, FL 32821, United States',     'Seaworld Orlando' ]
      ]);

      var options = {
        mapType: 'styledMap',
        zoomLevel: 12,
        showTooltip: true,
        showInfoWindow: true,
        useMapTypeControl: true,
        maps: {
          // Your custom mapTypeId holding custom map styles.
          styledMap: {
            name: 'Styled Map', // This name will be displayed in the map type control.
            styles: [
              {featureType: 'poi.attraction',
               stylers: [{color: '#fce8b2'}]
              },
              {featureType: 'road.highway',
               stylers: [{hue: '#0277bd'}, {saturation: -50}]
              },
              {featureType: 'road.highway',
               elementType: 'labels.icon',
               stylers: [{hue: '#000'}, {saturation: 100}, {lightness: 50}]
              },
              {featureType: 'landscape',
               stylers: [{hue: '#259b24'}, {saturation: 10}, {lightness: -22}]
              }
        ]}}
      };

      var map = new google.visualization.Map(document.getElementById('chart-00'));

      map.draw(data, options);
    }
	// Google chart 04 - 08
	  var count = 0;
      // Load the Visualization API and the controls package.
      google.charts.load('current', {'packages':['corechart', 'controls']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawTempChart);
      google.charts.setOnLoadCallback(drawAvgTempChart);
      google.charts.setOnLoadCallback(drawSnowChart);
      google.charts.setOnLoadCallback(drawPrecipitationChart);

      function drawTempChart() {
        var opts = {sendMethod: 'auto'};

        // Replace the data source URL on next line with your data source URL.
        var query = new google.visualization.Query('https://docs.google.com/spreadsheets/d/1PdfNLtmIy-vInH52IU80iJsGzFJsRqXo6bJr4veRwOw/edit?usp=sharing', opts);

        // Optional request to return only column C and the sum of column B, grouped by C members.
        query.setQuery('select A, B, C');

        // Send the query with a callback function.
        query.send(handleQueryResponse);
      }

      function handleQueryResponse(response) {
        // Called when the query response is returned.
        if (response.isError()) {
          alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
          return;
        }

        var data = response.getDataTable();

        whichChart(data);
      }

      function whichChart(data) {
        if(count == 0) {
          var chart = new google.visualization.LineChart(
            document.getElementById('chart-01'));
          chart.draw(data, {width: 250, height: 170, is3D: true,
            });
          count++;
        }
        else if(count == 1) {
          var chart = new google.visualization.ScatterChart(
            document.getElementById('chart-02'));
          chart.draw(data, {width: 250, height: 170, is3D: true,
            x: 'Date', y: 'Temperature'});
          count++;
        }
        else if(count == 2) {
          var chart = new google.visualization.AreaChart(
            document.getElementById('chart-03'));
          chart.draw(data, {width: 250, height: 170, is3D: true,
            x: 'Date', y: 'SnowFall/SnowDepth'});
          count++;
        }
        else if(count == 3) {
          var chart = new google.visualization.SteppedAreaChart(
            document.getElementById('chart-04'));
          chart.draw(data, {width: 250, height: 170, is3D: true,
            x: 'Date', y: 'Temperature'});
          count++;
        }
      }

      function drawAvgTempChart() {
        var opts = {sendMethod: 'auto'};

        // Replace the data source URL on next line with your data source URL.
        var query = new google.visualization.Query('https://docs.google.com/spreadsheets/d/1PdfNLtmIy-vInH52IU80iJsGzFJsRqXo6bJr4veRwOw/edit?usp=sharing', opts);

        // Optional request to return only column C and the sum of column B, grouped by C members.
        query.setQuery('select A, D');

        // Send the query with a callback function.
        query.send(handleQueryResponse);
      }

      function drawSnowChart() {
        var opts = {sendMethod: 'auto'};

        // Replace the data source URL on next line with your data source URL.
        var query = new google.visualization.Query('https://docs.google.com/spreadsheets/d/1PdfNLtmIy-vInH52IU80iJsGzFJsRqXo6bJr4veRwOw/edit?usp=sharing', opts);

        // Optional request to return only column C and the sum of column B, grouped by C members.
        query.setQuery('select A, F, G');

        // Send the query with a callback function.
        query.send(handleQueryResponse);
      }

      function drawPrecipitationChart() {
        var opts = {sendMethod: 'auto'};

        // Replace the data source URL on next line with your data source URL.
        var query = new google.visualization.Query('https://docs.google.com/spreadsheets/d/1PdfNLtmIy-vInH52IU80iJsGzFJsRqXo6bJr4veRwOw/edit?usp=sharing', opts);

        // Optional request to return only column C and the sum of column B, grouped by C members.
        query.setQuery('select A, E');

        // Send the query with a callback function.
        query.send(handleQueryResponse);
      }

	  google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Pressure readings', 'kPa'],
          ['Current Pressure', 0.743],
		  ['None', 1.947]
        ]);

        var options = {
          pieHole: 0.5,
        };

        var chart = new google.visualization.PieChart(document.getElementById('chart-09'));
        chart.draw(data, options);
      }
  </script>

<div class="content-wrapper" style="overflow: hidden">
    <div class="container-fluid">
        <!-- First Row-->
        <div class="row">
            <div class="col-xl-3 col-sm-6 mb-3">
                <div style="border: 1px solid #ccc">
                    <div class="dash-unit">
                        <div class="card-header"><a href="{% url 'dashboard:max_vs_min_view' %}">Max vs Min temperature</a></div>
                        <div id="chart-01"></div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 mb-3">
                <div style="border: 1px solid #ccc">
                    <div class="dash-unit">
                        <div class="card-header"><a href="{% url 'dashboard:avg_temp' %}">Average temperature</a></div>
                        <div id="chart-02"></div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 mb-3">
                <div style="border: 1px solid #ccc">
                    <div class="dash-unit">
                        <div class="card-header"><a href="{% url 'dashboard:snowView' %}">Snow Fall with Snow Depth</a></div>
                        <div id="chart-03"></div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 mb-3">
                <div>
                    <div style="border: 1px solid #ccc">
                        <div class="dash-unit">
                            <div class="card-header"><a href="{% url 'dashboard:precipitationView' %}">Precipitation</a></div>
                            <div id="chart-04"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Second row Example-->
        <div class="row">
            <div class="col-lg-8">
                <div class="card mb-3">
                    <div class="card-header">
                        <i class="fa fa-area-chart"></i><a href="{% url 'dashboard:mapView' %}"> Map</a></div>
                    <div id="chart-00" style="width:700px; height:200px"></div>
                </div>
            </div>
            <div style="width: 30%; heigt: 200px">
                <div>
                    <div style="border: 1px solid #ccc">
                        <div class="dash-unit">
                            <div class="card-header">Gas Pressure</div>
                            <div id="chart-09"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

